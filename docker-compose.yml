version: '3.8'

services:
  notifications-api:
    build: .
    ports:
      - "8006:8000"
    environment:
      - DB_HOST=activity-postgres-db
      - DB_PORT=5432
      - DB_NAME=activitydb
      - DB_USER=postgres
      - DB_PASSWORD=postgres_secure_password_change_in_prod
      - JWT_SECRET=dev_secret_key_change_in_production_min_32_chars_required
      - JWT_ALGORITHM=HS256
      - SERVICE_TOKEN=shared-secret-token-change-in-production
      - REDIS_HOST=auth-redis
      - REDIS_PORT=6379
      - REDIS_DB=0
      - API_V1_PREFIX=/api/v1
      - PROJECT_NAME=Notifications API
      - ENVIRONMENT=development
      - DEBUG=true
      - LOG_LEVEL=INFO
      - CORS_ORIGINS=*
      - ENABLE_DOCS=true
      - EMAIL_API_URL=http://email-api:8000
    networks:
      - activity-network
    container_name: notifications-api

networks:
  activity-network:
    external: true
